<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="styles.css">
</head>
<body class="col" style="width: 1920px; height: 1080px; background: #fefaee; padding: 96px 140px; margin: 0; box-sizing: border-box;">

  <!-- 제목 -->
  <div class="fit" style="margin-bottom: 32px;">
    <p style="font-size: 36px; font-weight: 700; color: #0d0c09; margin: 0 0 12px 0;">05 데이터 구조 - 이력 관리</p>
    <div style="width: 160px; height: 2px; background: #0d0c09;"></div>
  </div>

  <div class="row fill-height" style="gap: 40px;">

    <!-- histories 테이블 -->
    <div class="col" style="flex: 1;">
      <div class="col" style="background: #fff; border-radius: 12px; border: 4px solid #0d0c09; overflow: hidden; height: 100%;">
        <div style="padding: 16px 24px; background: #0d0c09;">
          <p style="font-size: 24px; font-weight: 700; color: #fefaee; margin: 0;">histories</p>
          <p style="font-size: 16px; color: #94938c; margin: 4px 0 0 0;">가상코드 이력 중앙 테이블</p>
        </div>
        <div class="col" style="padding: 20px 24px; gap: 10px; flex: 1;">
          <div class="row" style="gap: 8px;">
            <span style="font-size: 16px; background: #0d0c09; color: #fefaee; padding: 2px 8px; border-radius: 4px;">PK</span>
            <p style="font-size: 20px; color: #0d0c09; margin: 0; font-family: monospace;">id</p>
          </div>
          <div class="row" style="gap: 8px;">
            <span style="font-size: 16px; background: #94938c; color: #fefaee; padding: 2px 8px; border-radius: 4px;">FK</span>
            <p style="font-size: 20px; color: #4a4944; margin: 0; font-family: monospace;">virtual_code_id</p>
          </div>
          <p style="font-size: 20px; color: #4a4944; margin: 0; font-family: monospace;">action_type <span style="color: #94938c;">(ENUM)</span></p>
          <p style="font-size: 20px; color: #4a4944; margin: 0; font-family: monospace;">from_owner_type, from_owner_id</p>
          <p style="font-size: 20px; color: #4a4944; margin: 0; font-family: monospace;">to_owner_type, to_owner_id</p>
          <p style="font-size: 20px; color: #4a4944; margin: 0; font-family: monospace;">shipment_batch_id</p>
          <p style="font-size: 20px; color: #4a4944; margin: 0; font-family: monospace;">is_recall, recall_reason</p>
          <p style="font-size: 20px; color: #4a4944; margin: 0; font-family: monospace;">created_at</p>
        </div>
      </div>
    </div>

    <!-- 액션 타입 설명 -->
    <div class="col" style="flex: 1.2; gap: 20px;">

      <p style="font-size: 20px; font-weight: 600; color: #94938c; margin: 0; letter-spacing: 2px;">ACTION TYPES</p>

      <!-- 액션 타입 목록 -->
      <div class="col" style="background: #fff; border-radius: 12px; border: 2px solid #ccc9c0; overflow: hidden; flex: 1;">

        <!-- PRODUCED -->
        <div class="row" style="padding: 14px 24px; border-bottom: 2px solid #e0ddd4; align-items: center;">
          <div style="width: 160px;">
            <code style="font-size: 18px; background: #0d0c09; color: #fefaee; padding: 4px 12px; border-radius: 6px;">PRODUCED</code>
          </div>
          <p style="font-size: 18px; color: #4a4944; margin: 0; flex: 1;">생산 - Lot 생성 시</p>
        </div>

        <!-- SHIPPED -->
        <div class="row" style="padding: 14px 24px; border-bottom: 2px solid #e0ddd4; align-items: center;">
          <div style="width: 160px;">
            <code style="font-size: 18px; background: #4a4944; color: #fefaee; padding: 4px 12px; border-radius: 6px;">SHIPPED</code>
          </div>
          <p style="font-size: 18px; color: #4a4944; margin: 0; flex: 1;">출고 (발송자 관점)</p>
        </div>

        <!-- RECEIVED -->
        <div class="row" style="padding: 14px 24px; border-bottom: 2px solid #e0ddd4; align-items: center;">
          <div style="width: 160px;">
            <code style="font-size: 18px; background: #4a4944; color: #fefaee; padding: 4px 12px; border-radius: 6px;">RECEIVED</code>
          </div>
          <p style="font-size: 18px; color: #4a4944; margin: 0; flex: 1;">입고 (수신자 관점)</p>
        </div>

        <!-- TREATED -->
        <div class="row" style="padding: 14px 24px; border-bottom: 2px solid #e0ddd4; align-items: center;">
          <div style="width: 160px;">
            <code style="font-size: 18px; background: #0d0c09; color: #fefaee; padding: 4px 12px; border-radius: 6px;">TREATED</code>
          </div>
          <p style="font-size: 18px; color: #4a4944; margin: 0; flex: 1;">시술 - 환자에게 이전</p>
        </div>

        <!-- RECALLED -->
        <div class="row" style="padding: 14px 24px; border-bottom: 2px solid #e0ddd4; align-items: center;">
          <div style="width: 160px;">
            <code style="font-size: 18px; background: #94938c; color: #fefaee; padding: 4px 12px; border-radius: 6px;">RECALLED</code>
          </div>
          <p style="font-size: 18px; color: #4a4944; margin: 0; flex: 1;">회수 / 시술 회수</p>
        </div>

        <!-- RETURN_SENT / RETURN_RECEIVED -->
        <div class="row" style="padding: 14px 24px; border-bottom: 2px solid #e0ddd4; align-items: center;">
          <div style="width: 160px;">
            <code style="font-size: 18px; background: #94938c; color: #fefaee; padding: 4px 12px; border-radius: 6px;">RETURN_*</code>
          </div>
          <p style="font-size: 18px; color: #4a4944; margin: 0; flex: 1;">반품 발송 / 수신</p>
        </div>

        <!-- DISPOSED -->
        <div class="row" style="padding: 14px 24px; align-items: center;">
          <div style="width: 160px;">
            <code style="font-size: 18px; background: #0d0c09; color: #fefaee; padding: 4px 12px; border-radius: 6px;">DISPOSED</code>
          </div>
          <p style="font-size: 18px; color: #4a4944; margin: 0; flex: 1;">폐기 - 최종 상태</p>
        </div>

      </div>

      <!-- 자동 기록 설명 -->
      <div style="padding: 16px 20px; background: #f5f4ef; border-radius: 8px;">
        <p style="font-size: 18px; color: #4a4944; margin: 0; line-height: 1.5;">
          <strong style="color: #0d0c09;">자동 기록:</strong> 트리거가 소유권 변경 시 이력 자동 생성
        </p>
      </div>

    </div>

  </div>

</body>
</html>
